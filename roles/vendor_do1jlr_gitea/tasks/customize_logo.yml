---
- name: create directory for custom logos
  become: true
  ansible.builtin.file:
    path: "{{ item }}"
    state: "directory"
    owner: "{{ gitea_user }}"
    group: "{{ gitea_group }}"
    mode: "u=rwX,g=rX,o="
  loop:
  - '{{ gitea_custom }}/public'
  - '{{ gitea_custom }}/public/img'

- name: transfer custom logo.svg
  become: true
  ansible.builtin.copy:
    src: "{{ _src_ }}"
    dest: "{{ gitea_custom }}/public/img/logo.svg"
    owner: "{{ gitea_user }}"
    group: "{{ gitea_group }}"
    mode: "0644"

- name: transfer custom logo.png
  become: true
  ansible.builtin.copy:
    src: "{{ _src_ }}"
    dest: "{{ gitea_custom }}/public/img/logo.png"
    owner: "{{ gitea_user }}"
    group: "{{ gitea_group }}"
    mode: "0644"

- name: transfer custom favicon.png
  become: true
  ansible.builtin.copy:
    src: "{{ _src_ }}"
    dest: "{{ gitea_custom }}/public/img/favicon.png"
    owner: "{{ gitea_user }}"
    group: "{{ gitea_group }}"
    mode: "0644"

- name: transfer custom apple-touch-icon.png
  become: true
  ansible.builtin.copy:
    src: "{{ _src_ }}"
    dest: "{{ gitea_custom }}/public/img/apple-touch-icon.png"
    owner: "{{ gitea_user }}"
    group: "{{ gitea_group }}"
    mode: "0644"
